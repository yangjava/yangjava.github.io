---
layout: post
categories: [Tomcat]
description: none
keywords: Tomcat
---
# Tomcat整体结构
在深入研究Tomcat之前，先从整体上了解它的各个主要模块将会非常有帮助。介绍其中包含的各个模块及其作用，从整体上认识Tomcat内部的架构层次。

## Tomcat核心组件
如果将Tomcat内核高度抽象，则它可以看成由连接器（Connector）组件和容器（Container）组件组成，其中Connector组件负责在服务器端处理客户端连接，包括接收客户端连接、接收客户端的消息报文以及消息报文的解析等工作，而Container组件则负责对客户端的请求进行逻辑处理，并把结果返回给客户端。

Container组件其实包括4个级别的容器：Engine组件、Host组件、Context组件和Wrapper组件，容器也是整个Tomcat的核心。

从Tomcat服务器配置文件server.xml的内容格式看，以下便是server.xml简洁的配置节点，所以从server.xml文件也能看出Tomcat的大体结构。
```
<?xml version='1.0' encoding='utf-8'?>
<Server>
<Listener/>
<GlobalNamingResources>
<Resource/>
</GlobalNamingResources>
<Service>
<Executor/>
<Connector/>
<Engine>
<Cluster/>
<Realm/>
<Host>
<Context/>
</Host>
</Engine>
</Service>
</Server>
```
大致介绍各大组件是什么以及它们有什么作用。

### Server组件
Server是最顶级的组件，它代表Tomcat的运行实例，在一个JVM中只会包含一个Server。在Server的整个生命周期中，不同阶段会有不同的事情要完成。为了方便扩展，它引入了监听器方式，所以它也包含了Listener组件。另外，为了方便在Tomcat中集成JNDI，引入了GlobalNamingResources组件。同时，还包含了Service核心组件。

















































