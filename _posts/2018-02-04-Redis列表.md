---
layout: post
categories: [Redis]
description: none
keywords: Redis
---
# Redis列表


## 列表
Redis的列表（list）是一种线性的有序结构，可以按照元素被推入列表中的顺序来存储元素，这些元素既可以是文字数据，又可以是二进制数据，并且列表中的元素可以重复出现。

作为例子，一个包含多个字符串的列表，这个列表按照从左到右的方式，依次存储了"one"、"two"、"three"、"four"这4个元素。

Redis为列表提供了丰富的操作命令，通过这些命令，用户可以：
- 将新元素推入列表的左端或者右端。
- 移除位于列表最左端或者最右端的元素。
- 移除列表最右端的元素，然后把被移除的元素推入另一个列表的左端。
- 获取列表包含的元素数量。
- 获取列表在指定索引上的单个元素，或者获取列表在指定索引范围内的多个元素。
- 为列表的指定索引设置新元素，或者把新元素添加到某个指定元素的前面或者后面。
- 对列表进行修剪，只保留指定索引范围内的元素。
- 从列表中移除指定元素。
- 执行能够阻塞客户端的推入和移除操作。

### LPUSH：将元素推入列表左端
用户可以通过LPUSH命令，将一个或多个元素推入给定列表的左端：在推入操作执行完毕之后，LPUSH命令会返回列表当前包含的元素数量作为返回值。
LPUSH命令允许用户一次将多个元素推入列表左端：如果用户在执行LPUSH命令时给定了多个元素，那么LPUSH命令将按照元素给定的顺序，从左到右依次将所有给定元素推入列表左端。
```
LPUSH list item [item item ...]
```

例如，以下代码就展示了如何通过LPUSH命令将"buy some milk"、"watch tv"等元素依次推入todo列表的左端：
```
redis> LPUSH todo "buy some milk"
(integer) 1    -- 列表现在包含1个元素
redis> LPUSH todo "watch tv"
(integer) 2    -- 列表现在包含2个元素
```
以上3个LPUSH命令的执行过程：
- 在执行操作之前，todo列表为空，即不存在于数据库中。
- 执行第1个LPUSH命令，将元素"buy some milk"推入列表左端。
- 执行完第1个LPUSH命令的列表现在包含一个元素。
- 执行第2个LPUSH命令，将元素"watch tv"推入列表左端。
- 执行完第2个LPUSH命令的列表现在包含两个元素。

一次推入多个元素举个例子，如果用户执行以下命令：
```
redis> LPUSH another-todo "buy some milk" "watch tv" 
(integer) 2
```
那么LPUSH命令将顺序，将3个给定元素依次推入another-todo列表的左端。

### RPUSH：将元素推入列表右端
RPUSH命令和LPUSH命令类似，这两个命令执行的都是元素推入操作，唯一区别就在于LPUSH命令会将元素推入列表左端，而RPUSH命令会将元素推入列表右端：
在推入操作执行完毕之后，RPUSH命令会返回列表当前包含的元素数量作为返回值。
```
RPUSH list item [item item ...]
```

### LPUSHX、RPUSHX：只对已存在的列表执行推入操作
当用户调用LPUSH命令或RPUSH命令尝试将元素推入列表的时候，如果给定的列表并不存在，那么命令将自动创建一个空列表，并将元素推入刚刚创建的列表中。

### LPOP：弹出列表最左端的元素
### RPOPLPUSH：将右端弹出的元素推入左端

### 先进先出队列
### LRANGE：获取指定索引范围上的元素
### LSET：为指定索引设置新元素
### LINSERT：将元素插入列表
### LTRIM：修剪列表
### BLPOP：阻塞式左端弹出操作
### BRPOP：阻塞式右端弹出操作
### BRPOPLPUSH：阻塞式弹出并推入操作




