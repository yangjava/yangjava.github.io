---
layout: post
categories: [MySQL]
description: none
keywords: MySQL
---
# 数据库关系模型
关系模型是关系数据库所采用的数据模型，它是实现结构化数据库的关键技术。

## 关系及其相关概念
早在1970年，IBM 公司研究员 E.F.Codd 博士发表《大型共享数据银行的关系模型》论文，首次提出了关系模型的概念。后来E.F.Codd又陆续发表多篇文章，进一步完善关系模型研究，使关系模型成为关系数据库最重要的理论基础。在关系模型中，最基本的概念就是关系。那么关系是什么？如何理解关系？这是学习关系模型首先需要解决的问题。为了便于读者理解，我们下面首先给出简单通俗的关系定义，然后再从集合论的角度给出关系的数学定义。

为了描述一个现实系统中的事物对象及其数据关系，需要将其进行概念建模抽象，刻画出本质内涵。概念模型通常采用“实体”及其“实体联系”来表示系统内在的数据对象组成及数据对象关系。其中，实体（Entity）指包含数据特征的事物对象在概念模型世界中的抽象名称。例如，在大学教学系统中，我们可以抽象出“课程”“教学资源”“课程计划”“学生”“教师”“班级”等实体名称，并可通过特定的实体联系表示实体之间的关系，从而描述大学教学系统的事物对象及其数据关系。

关系模型是一种采用关系二维表的数据结构形式存储实体及其实体间联系的数据模型。关系模型使用具有关系特征的二维表来组织与存储数据，并采用关系运算来操作数据。通常我们把具有关系特征的二维表称为“关系（Relation）”。具体来讲，关系是一种由行和列组成的、用于组织存储实体数据的二维表，该二维表需具有如下关系特征。
- 表中每行存储实体的一个实例数据。
- 表中每列表示实体的一项属性。
- 表中单元格只能存储单个值。
- 表中不允许有重复行。
- 表中不允许有重复列。
- 表中行顺序可任意。
- 表中列顺序可任意。

在关系模型中，与关系相关的概念还有如下术语。
- 关系表（Relation Table）：关系的同义词，简称“关系”。
- 元组（Tuple）：在关系二维表中的一行，称为一个元组。
- 属性（Attribute）：在关系二维表中的列，称为属性。
- 域（Domain）：属性列的取值范围。
- 基数（Radix）：一个值域的取值个数。
- 实体（Entity）：包含数据特征的事物抽象。

## 数学定义
关系模型是建立在集合理论和关系代数等数学基础上的数据模型。下面我们将从集合论角度给出关系的形式化定义。

### 基本概念
定义1：域（Domain）指一组具有相同数据类型的值的集合。关系模型使用域来表示实体属性的取值范围。通常用D i 来表示某个域。

定义一个“学生”实体的3个属性（学号、姓名、性别）。我们可以使用D 1 、D 2 、D 3 域来定义，假定它们的取值范围如下。
D 1 ={2017010001,2017010002,2017010003}
D 2 ={刘京，夏岷，周小亮}
D 3 ={男，女}

定义2：给定一组域D 1 ,D 2 ,…,D n ，这组域的笛卡尔积（Cartesian Product）为
D 1 ×D 2 ×…×D n ={(d 1 ,d 2 ,…,d n )|d i ∈D i ,i =1,2,3,…,n }
其中，每一个向量（d 1 ,d 2 ,…,d n ）称为一个n 元组，简称元组。向量中的每个d i 称为分量。若 D i （i =1,2,…,n ）为有限集，每个域的基数为 m i （i =1,2,…,n ），则笛卡儿积 D 1 × D 2 ×…× D n 的基数M 为 。

### 关系类型

在关系数据库中，关系可以分为如下两种类型。
- 基本关系：常称为基本表，它是关系数据库中组织存储数据的二维表。
- 视图关系：简称视图（View），指在基本表或其他视图基础上进行查询的结果集上所定义的关系。视图是一种虚拟表，它并不实际存储数据。

### 关系特性

在关系的数学定义中，关系可以是一个无限的元组集合。此外，笛卡儿积不满足交换律，即(d 1 ,d 2 ,…,d n )≠(d 2 ,d 1 ,…,d n )。这些特性不适合数据库实际应用处理要求，因此，需要对关系特性进行如下限制与约束。
- 无限元组集合的关系在数据库系统中是无实际意义的。关系模型中的关系必须是有限的元组集合。
- 为了使关系中的属性列在表中可允许任意顺序，即让关系满足交换律，可给各属性列定义不同列名，并消除元组属性列的有序性。

### 关系模式表示
由前面的关系定义，我们知道关系的数据结构实际上就是一个二维表，表中每行为一个元组，表中每列为一个属性列。关系是元组的集合，一个元组是该关系属性列笛卡儿积的一个结果向量。为了简洁地表示关系，可采用关系模式语句表示，即

关系名(属性1，属性2,…，属性 x )
通常使用大写字母的英文单词给出关系表名称。例如，“学生”关系可以取名为STUDENT。如果关系表名是两个或多个单词的组合，就使用下画线连接这些单词。关系属性的各个列名放入圆括号中，使用逗号分隔。同样列名也使用英文单词，其首字母大写。如果列名是两个单词或多个单词的组合，则每个单词的首字母都大写。例如“学生”关系模式可表示为

STUDENT(StudentNum,StudentName,Sex)

### 关系键的定义
在关系定义中，要求关系表内的任意两个元组不能完全相同。这可通过在关系表的各个属性中，选出能够唯一标识不同元组的属性或属性组来约束元组数据。我们将这样的属性或属性组称为键（Key）。

## 关系模型的原理
关系模型是一种采用关系二维表的形式表示实体和实体间联系的数据模型。关系模型决定了关系数据库所采用的数据结构、操作方式和数据约束。

关系模型与其他数据模型一样，也是由数据结构、操作方式、数据约束3个部分组成的。

### 数据结构
在关系模型中，采用具有关系特征的二维表数据结构来组织存储数据。在关系数据库中，关系一般被称为关系表或表。一个关系数据库由若干关系表组成，并且表之间存在一定的关联。

### 操作方式
在关系模型中，对关系表的数据操作是按照集合关系运算方式来进行的。常用的关系运算包括选择（Select）、投影（Project）、连接（Join）、除（Divide）、并（Union）、交（Intersection）、差（Difference）等数据查询操作，也包含插入（Insert）、更新（Update）、删除（Delete）等数据操纵。

### 数据约束
在关系模型中，关系模型的数据约束包括实体完整性约束、参照完整性约束和用户自定义完整性约束。其中，前两个约束是关系模型必须满足的限制条件，由关系数据库DBMS默认支持。用户自定义完整性约束是应用领域数据需遵循的业务规则，由具体业务的规则进行限定。





