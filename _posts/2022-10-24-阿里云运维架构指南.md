---
layout: post
categories: [ali,cloud]
description: none
keywords: ali
---
# 阿里云运维架构指南
云计算正在并且已经慢慢地重构了整个IT的基础架构。作为互联网的参与者，尤其是技术参与者，无论是系统架构师、开发工程师、运维工程师，掌握云计算及相应的技术产品知识，以及利用云计算解决实际的业务问题都将变得必不可少。

## 什么是云计算
从技术角度来看，云计算并不是一种新技术，它也用到了编程语言排行榜上的那些编程语言，以及数据库排行榜上的那些数据库，还有那些热门的开源技术。只不过它在虚拟化+分布式+自动化平台的基础上解决了以下问题：
- 稳定性：采用分布式集群部署，保障服务不宕机。
- 弹性扩展：按需索取，一键式秒级开通资源。
- 安全性：采用分布式多副本冗余部署，保障数据不丢失。
- 成本：一台2核4GB服务器附赠5GB抗DDoS攻击流量，费用极低。
- 易用性：Web管理控制台，智能化便捷操作。

不同的是，云计算是一种新的互联网模式，这种模式本质上如同IDC的IT模式。传统计算资源的使用流程是采购→机器安装配→机器上架→机器后期机房托管。而在云端，在Web界面简易的一键式操作就能获取计算资源。就如同使用水和电一样方便，按需索取。

## 云平台优化点
从本质上来讲，云计算只是一个概念，如同LDAP协议。而阿里云、腾讯云、华为云就是云计算的落地实现，如同开源工具OpenLDAP对LDAP协议的实现。云计算是面向广大用户的，对应的是一个分布式云管控平台（简称云平台），用户可以在这个云平台上管理及使用对应的云资源。

正如前面所说的，从技术角度来看，云平台只不过是虚拟化+分布式+自动化的一个综合类平台，所以很多相对于传统物理硬件来说比较烦琐的事情，都可以在云平台上一键自动化。

## 云计算对技术的变革
### 技术的发展变革
云计算的普及，也促使最新热门的开源技术的普及使用。因为大家使用的大多数云产品都基于热门开源技术做了定制化开发及封装。比如，负载均衡（Server Load Balancer，SLB），其中，四层就是基于LVS（Linux Virtual Server，Linux虚拟服务器，它是一个虚拟的服务器集群系统。本项目在1998年5月由章文嵩博士成立，是中国国内最早出现的自由软件项目之一）、七层就是基于Tengine（Tengine是由淘宝网发起的Web服务器项目，它在Nginx基础上，针对有大访问量需求的网站，添加了很多高级功能和特性）等做了对应定制化开发及优化。云计算浪潮席卷着互联网，同时在技术更新迭代、实践上也引领着变革。

### 运维技术方面的变革
在运维领域，运维自动化一直是运维技术最重要的体现，也是运维的灵魂。运维自动化一般有以下几个阶段：
- 人工阶段。日常运维全部靠人工来做。
- 脚本及工具阶段。对于日常重复的事情，我们开始尝试用脚本、工具来替代人工方式，以提升效率。
- 平台化阶段。用平台界面智能化操作来完成日常运维命令或执行脚本/工具，以进一步提升效率。
- 智能化阶段。智能运维，如自动扩容、故障自愈等，进一步减少人为参与，进一步提升运维效率。

### 在技术体系架构的变革
IT体系会经过以下3个阶段：
- 物理机体系阶段。传统的IOE架构其实是物理机的典型代表。想使用计算资源，就需要去购买对应的硬件。
- 云计算体系阶段。在传统硬件服务器的基础上，通过虚拟化及分布式技术形成对应的云资源平台。对计算资源的使用，如同使用水和电一样，在云资源平台上按需索取即可，而不用再和底层物理硬件打交道。
- 容器体系阶段。我们既不用关注底层物理硬件，也不用关注用的云平台是AWS还是阿里云，我们的业务都能无缝过渡及运行。我们对计算资源的使用会脱离对硬件，甚至是对各个云平台的依赖。

对应的技术架构会经过以下4个阶段：
1）单机架构的阶段。IOE架构（IBM的小型机+Oracle+EMC存储）是单机架构中的典型代表，都是高配性能的计算资源，在这个阶段的架构，其业务基本上都是单机部署的。有时候数据库和业务代码甚至部署在一台高配机器上，完全要靠单机的硬件性能来支持更多的业务访问。

2）集群架构的阶段。集群架构其实是单机架构的演变。集群架构的典型技术特点就是，一般采用虚拟VIP技术（如Keeplived、Hearbeat）解决单点故障问题，让架构高可用，如图1所示。而值得注意的是，在云端，对应的云产品底层都用集群架构来保障高可用。

3）分布式架构阶段。分布式架构最重要的特点就是，不管是业务代码还是数据库，都是通过多台服务器以分布式模式部署的。如果业务压力增加，那么就增加对应的服务器资源。在云计算阶段，分布式架构特别适用于云平台部署。这个架构对服务器单机的性能依赖不高，主要通过大量的云资源进行分布式快速部署，来满足业务发展和迭代需要。值得注意的是，分布式架构是集群架构的演变，很多人把集群架构和分布式架构混为一谈，这是很大的认识误区。集群的虚拟VIP技术只能将一台服务器作为热备（Backup），并且只有在主服务器故障的时候，才会切换到热备上，平时其都是处于空闲状态。

4）微服务架构阶段。微服务架构本质上也是分布式架构，微服务其实是业务功能层面的一种切分，即切分成单个小型的独立业务功能。多个微服务通过API网关（Gateway）提供统一服务入口，对前台透明，而每个微服务也可以通过分布式架构进行部署。这给研发灵活性、业务后期迭代带来了极大的可扩展性，这是未来软件技术架构的主流。微服务在云平台的基础上结合Docker容器技术进行部署，能让业务、运维、架构在技术和非技术方面的稳定性、成本、效率、可扩展性等都达到最优。

## 阿里云产品概要
企业级应用中必须要选择的5个云产品：
1）ECS（Elastic Compute Service）：云服务器
2）RDS（Relational Database Service）：关系型数据库
3）SLB（Server Load Balancer）：负载均衡
4）OSS（Object Storage Service）：对象存储服务
5）VPC（Virtual Private Cloud）：专有网络

ECS、RDS、SLB、OSS这是阿里云4款打江山的核心产品，简称“阿里云四大件”。ECS则是业务代码服务的载体，甚至基于ECS我们可以自行搭建数据库、缓存、负载均衡等服务，ECS作为云产品中的“基石”，是最基础最重要的云产品。










