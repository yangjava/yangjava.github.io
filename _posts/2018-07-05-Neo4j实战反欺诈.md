---
layout: post
categories: [Neo4j]
description: none
keywords: Neo4j
---
# Neo4j实战反欺诈


## 背景
目前金融反欺诈是一个很火热的问题，而且呈现出一种组织化、团伙化的新趋势。这里有个很重要的问题就是信息不对称，我们很难去验证信贷客户信息哪些是真实的，哪些是经过包装的，这就导致很多问题。比如银行立项申请时，因为不知道客群真实情况，可能会通过提高要求来控制通过率，虽然有效，但是一把双刃剑。

传统反欺诈主要依靠专家规则，但像身份证号、银行卡流水这些东西其实伪造成本很低，对于一种群体性的、大批量的欺诈并没有一个很好的管控手段。

我们可以看一下智能反欺诈手段的发展路径：最底层的是专家规则，即风控专家通过经验设置一批规则，然后调整触发条件，在通过率和拒绝率之间找到一个业务上的平衡点。

但专家经验很难覆盖所有风险，所以通常会做一个机器学习建模去防控整体风险，然后再用专家规则去补充，即专家规则加上机器学习模型搭配互补。但就目前的经验来看，由专家过渡到机器学习模型，建模这一步会面临很多的问题，第一是样本量不足。第二是样本空间增长有限，后面也会有一个案例，因为贷款或信用卡申请大概都会有那么 6~7 种方式，落到最后都是需要人工检验的，所以说增长空间很有限。

因此，我们需要运用关联图谱去破解信息不对称的问题。因为无论是团伙还是中介欺诈，都会有一个批量进件的行为，图的可视化手段可以去抓取团伙样本，而且很可能一抓就是几十个到上百个进件——这样其实对于样本补充是个非常有效的手段。而且图谱还可以进行一致性的检验，比如说多方面的信息来源可以打破信息的不对称性，图做出来后还会从关系图的维度去展示，等于帮我们做二次校验。举个实际的例子，比如说多个申请共用相同的信息、相同的手机、相同的 IP，这就属于团伙的情况。

为了解决这种情况，我们引入图谱，并从中抽象出一些关系维度的图规则，对于原有的专家规则体系做补充。另一方面我们也在抽取图特征，对既定的机器学习模型做一个补充，提升机器学习模型识别团伙欺诈的能力，同时进一步去丰富黑样本的标签。所以说专家规则、机器学习模型、图谱这三者具备之后，就能够构造一个有效的生态闭环，可以实现反欺诈效能上的互补。

## 关联图谱反欺诈
就目前关联图谱在反欺诈的具体应用，我列了大概这几个方面：

- 申请图谱
比如如何在信贷、信用卡申请中去识别团伙欺诈性进件。组团有一个特点就是信息会被团队成员共享，那在图谱的可视化查询上，就会发现出很多关联关系。较常见的可能就是从身份证、手机号，设备指纹、邮箱地址等这些维度去做一个关联，先去看这些数据有多少个共性，再就是结合一些可视化手段去分析具体的欺诈手法。

- 交易图谱
涉及到多层次的转账关系，主要是看资金最后的流向、受益人是谁。现在比较火热、监管也比较关注的是涉赌涉诈的问题，也是我们主抓的一个方向。我们这方面有很多客户案例，通过监管下发的名单或内部的规则模型识别出可疑交易，这个过程中可能还会结合历史流水，把一些归集的账户扩散到n层，过程中可能会使用一些图探索手段，也会基于图谱平台，去做一些存量排查，比如说增量防控。

- 企业图谱/内控图谱
现在企业业务会存在一些交叉，外部风险对企业的影响也越来越大，用图谱可以勾勒出一个企业风险的全貌，结合外部风险点的引入，就能尽早预判外部风险对企业的影响。内控图谱更多是涉及员工的道德或操作风险，比如误操作或没有按照规章制度做某些业务。道德风险更多发生在员工和企业的异常资金往来，比如非法集资或资金挪用。

做这个防控核心是用图谱去查看员工的实际控制账户，因为就像银行员工都很熟知银行的业务，很少有员工拿自己的户头进行一些犯罪。对这些控制账户的识别可以通过图谱的一些探索手段，比如说亲属的账户。我们有个股份制银行的案例，这个案例最后定位到了员工女朋友的账户，因为我们在图探索中发现，很多资金实际都流向了女朋友的账户。如果用传统手段来看的话，是很难去发现的。

- 洗钱图谱
这个问题比较久了，不同时期也会衍生很多手段，现在比较流行的地下钱庄还有跑单平台，它会把用户拉进来，把涉案资金隐藏在跑单用户每天正常的消费交易流水上，但这其实是有一个固定模式的。怎么在图谱上刻画和获取业务经验、制定图规则来进行实时的监控和筛查，也是邦盛作为图技术平台对业务的关键赋能方向，我们后面会说到。

- 车险/运维图谱
一般我们分析这些领域时会结合初始化网络，进行点边结构的设计，之后找到一个数量相对合适、联系比较紧密的子图，再结合业务专家经验，进行一些探索性分析性的工作。




