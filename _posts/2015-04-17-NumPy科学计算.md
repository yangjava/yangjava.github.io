---
layout: post
categories: [Python,NumPy]
description: none
keywords: Python,NumPy
---
# NumPy科学计算
NumPy库是用于科学计算的一个开源Python扩充程序库，是其他数据分析包的基础包，它为Python提供了高性能数组与矩阵运算处理能力。

- ndarray数组：学会数组的创建和属性。
- 数组选择：学会数组的切片和索引方法。
- 数组运算：学会数组的各类运算方法和使用。
- 数组存取：完成数组的存储和读取方法。
- 图像变换：了解图像的处理方法。

## NumPy简介
NumPy是Python的一个科学计算的库，提供了矩阵运算的功能，其一般与SciPy、Matplotlib一起使用。其实，List已经提供了类似于矩阵的表示形式，不过NumPy为我们提供了更多的函数。如果接触过Matlab、Scilab，那么NumPy很好入手。

NumPy是一个Python包。它代表Numeric Python。它是一个由多维数组对象和用于处理数组的例程集合组成的库。

Numeric是NumPy的前身，是由Jim Hugunin开发的。他还开发了另一个包Numarray，拥有一些额外的功能。2005年，Travis Oliphant通过将Numarray的功能集成到Numeric包中来创建NumPy包。这个开源项目有很多贡献者。

使用NumPy，开发人员可以执行以下操作：
- 数组的算术和逻辑运算。
- 傅里叶变换和用于图形操作的例程。
- 与线性代数有关的操作，NumPy拥有线性代数和随机数生成的内置函数。
NumPy通常与SciPy（Scientific Python）和Matplotlib（绘图库）一起使用。这种组合广泛用于替代Matlab，是一个流行的技术计算平台。Python作为Matlab的替代方案，现在被视为一种更加现代和完整的编程语言。

## NumPy环境安装配置
标准的Python发行版不会与NumPy模块捆绑在一起。一个轻量级的替代方法是使用流行的Python包安装程序pip来安装NumPy http://www.lfd.uci.edu/～gohlke/pythonlibs/。
```python
pip install numpy
```
启用NumPy的方法是使用操作系统的可安装的二进制包。这些二进制包包含完整的SciPy技术栈（包括NumPy、SciPy、Matplotlib、IPython、SymPy以及Python核心自带的其他包）。

## ndarray对象
NumPy中定义的最重要的对象是称为ndarray的N维数组类型。它描述相同类型的元素集合，可以使用基于零的索引访问集合中的项目。

ndarray中的每个元素在内存中使用相同大小的块。ndarray中的每个元素是数据类型对象的对象（称为dtype）。

从ndarray对象提取的任何元素（通过切片）由一个数组标量类型的Python对象表示。
ndarray类的实例可以通过不同的数组创建例程来构造。基本的ndarray是使用NumPy中的数组函数创建的，如下所示：
```python
numpy.array
```
它从任何暴露数组接口的对象或从返回数组的任何方法创建一个ndarray。
```python
numpy.array(object, dtype = None, copy = True, order = None, subok = False, ndmin= 0)
```
上面的构造器接收以下参数：
- object：任何暴露数组接口方法的对象都会返回一个数组或任何（嵌套）序列。
- dtype：数组所需的数据类型，可选。
- copy：可选，默认为true，对象是否被复制。
- order：C（按行）、F（按列）或A（任意，默认）。
- subok：默认情况下，返回的数组强制为基类数组。如果为true，就返回子类。
- ndmin：指定返回数组的最小维数。

## ndarray多维数组
NumPy库为Python带来了真正的ndarray多维数组功能。ndarray对象是一个快速而灵活的数据集容器。

## 创建ndarray数组
通过NumPy库的array函数，即可轻松地创建ndarray数组。NumPy库能将序列数据（列表、元组、数组或其他序列类型）转换为ndarray数组。
```python
   import numpy as np
   a = np.array([1,2,3])
   print a
```
输出如下：
```python
[1, 2, 3]
```
通常来说，ndarray是一个通用的同构数据容器，即其中的所有元素都需要是相同的类型。当创建好一个ndarray数组时，同时会在内存中存储ndarray的shape和dtype。shape是ndarray维度大小的元组，dtype是解释说明ndarray数据类型的对象。

## 数据类型对象（dtype）
数据类型对象描述了对应于数组的固定内存块的解释，取决于以下5个方面：
- 数据类型（整数、浮点数或者Python对象）。
- 数据大小。
- 字节序（小端或大端）。
- 在结构化类型的情况下，字段的名称、每个字段的数据类型和每个字段占用的内存块部分。
- 数据类型是子序列的形状和数据类型。
字节顺序取决于数据类型的前缀“<”或“>”。<意味着编码是小端（最小有效字节存储在最小地址中），>意味着编码是大端（最大有效字节存储在最小地址中）。
dtype可由以下语法构造：
```python
numpy.dtype(object, align, copy)
```
参数说明如下：
- object：被转换为数据类型的对象。
- align：如果为true，就向字段添加间隔，使其类似C的结构体。
- copy：生成dtype对象的新副本，如果为false，结果就是内建数据类型对象的引用。
```python
  # 使用数组标量类型
   import numpy as np
   dt = np.dtype(np.int32)
   print dt
```

## 数组属性

### shape
语法：ndarray.shape

这一数组属性返回一个包含数组维度的元组，它也可以用于调整数组大小。
```java
   import numpy as np
   a = np.array([[1,2,3],[4,5,6]])
   print a.shape
```
输出如下：
```java
(2, 3)
```

```java
   # 这会调整数组大小
   import numpy as np
   a = np.array([[1,2,3],[4,5,6]]) a.shape =  (3,2)
   print a
```
输出如下：
```java
  [[1, 2]
    [3, 4]
    [5, 6]]
```
NumPy还提供了reshape函数来调整数组大小。
```java
        import numpy as np
        a = np.array([[1,2,3],[4,5,6]])
        b = a.reshape(3,2)
        print b
```
输出如下：
```java
 [[1, 2]
    [3, 4]
    [5, 6]]
```

### ndim
语法：ndarray. ndim

这一数组属性返回数组的维数。

### itemsize
语法：numpy. itemsize

这一数组属性返回数组中每个元素的字节单位长度。
```java
 # 数组的 dtype 为 int8(一字节)
   import numpy as np
   x = np.array([1,2,3,4,5], dtype = np.int8)
   print x.itemsize
```
输出如下：
```java
 1
```

## 数组创建例程
新的ndarray对象可以通过下列数组创建例程或使用低级ndarray构造函数构造。
```
numpy.empty
```
创建指定形状和dtype的未初始化数组。该函数的用法如下：
```java
numpy.empty(shape, dtype = float, order = 'C')
```
构造器接收下列参数：
- shape：空数组的形状，整数或整数元组。
- dtype：所需的输出数组类型，可选。
- order：'C'为按行的C风格数组，'F'为按列的Fortran风格数组。
下面是一个展示空数组的例子：
```java
   import numpy as np
   x = np.empty([3,2], dtype =  int)
   print x
```
输出如下：
```java
   [[22649312    1701344351]
    [1818321759  1885959276]
    [16779776    156368896]]
```
注意：数组元素为随机值，因为它们未初始化。

### numpy.zeros
返回特定大小，以0填充的新数组。该函数的用法如下：
```
numpy.zeros(shape, dtype = float, order = 'C')
```
构造器接收下列参数：
- shape：空数组的形状，整数或整数元组。
- dtype：所需的输出数组类型，可选。
- order：'C'为按行的C风格数组，'F'为按列的Fortran风格数组。
```java
   # 含有 5 个 0 的数组，默认类型为 float
   import numpy as np
   x = np.zeros(5)
   print x
```
输出如下：
```java
[ 0.  0.  0.  0.  0.]
```

### numpy.ones
返回特定大小，以1填充的新数组。该函数的用法如下：
```java
numpy.ones(shape, dtype = None, order = 'C')
```
构造器接收下列参数：
- shape：空数组的形状，整数或整数元组。
- dtype：所需的输出数组类型，可选。
- order：'C'为按行的C风格数组，'F'为按列的Fortran风格数组。
```
   # 含有 5 个 1 的数组，默认类型为 float
   import numpy as np
   x = np.ones(5)  print x
```
输出如下：
```java
[ 1.  1.  1.  1.  1.]
```

### NumPy现有数据数组
























