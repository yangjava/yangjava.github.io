---
layout: post
categories: [Test,Jacoco]
description: none
keywords: jacoco
---
# Maven单元测试插件
如果你执行过mvn test或者执行其他maven命令时跑了测试用例，你就已经用过maven-surefire-plugin了。

## Maven Surefire Plugin
maven-surefire-plugin是maven里执行测试用例的插件，不显示配置就会用默认配置。 这个插件的surefire:test命令会默认绑定maven执行的test阶段。

如果你自己声明了，那么可以指定自己的版本，并且可以配置自定义的参数。

## maven的生命周期有哪些阶段？

[validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, `test`, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy]




## 插件依赖
```xml
<build>
    <pluginManagement>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>3.0.0-M5</version>
            </plugin>
        </plugins>
    </pluginManagement>
</build>

```
这个时候maven-surefire-plugin会按照如下逻辑去寻找JUnit的版本并执行测试用例。
```text
if the JUnit version in the project >= 4.7 and the parallel attribute has ANY value
	use junit47 provider
if JUnit >= 4.0 is present
	use junit4 provider
else
	use junit3.8.1
```



## 插件入口

Mojo是运行的核心类,而SurefirePlugin就是Mojo的子类。 由此可知,如果要学习这个 maven-surefire-plugin，入口就是在SurefirePlugin类


# 参考资料

Maven Surefire Plugin[https://maven.apache.org/surefire/maven-surefire-plugin/index.html](https://maven.apache.org/surefire/maven-surefire-plugin/index.html)