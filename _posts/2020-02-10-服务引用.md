---
layout: post
categories: [Dubbo]
description: none
keywords: Dubbo
---
# 服务引用流程

这里先列出来我们的消费者代码，此代码并非在Spring中运行，后面会单独开设文章分析Spring 如何集成Dubbo。
```
    public static void main(String[] args) {
    	// 获取 ReferenceConfig
        ReferenceConfig<DemoService> referenceConfig = DubboUtil.referenceConfig("dubbo-demo");
        // 获取服务 接口
        DemoService demoService = referenceConfig.get();
        // 进行服务调用
        String result = demoService.sayHello("demo");
        System.out.println("result = " + result);
    }
	....
    public static ReferenceConfig<DemoService> referenceConfig(String applicationName) {
        ReferenceConfig<DemoService> referenceConfig = new ReferenceConfig<>();
        // 设置服务名称
        referenceConfig.setApplication(new ApplicationConfig(applicationName));
        // 设置注册中心地址
        RegistryConfig registryConfig = new RegistryConfig("zookeeper://localhost:2181");
        referenceConfig.setRegistry(registryConfig);
        // 设置暴露接口
        referenceConfig.setInterface(DemoService.class);
        referenceConfig.setTimeout(5000);
        // 设置版本号和分组 服务接口 + 服务分组 + 服务版本号确定唯一服务
        referenceConfig.setVersion("1.0.0");
        referenceConfig.setGroup("dubbo");
        return referenceConfig;
    }

```
上面的代码一目了然，我们可以很自然的发现关键逻辑在下面一句中：
```
DemoService demoService = referenceConfig.get();
```
referenceConfig.get() 方法完成了对服务接口的代理，创建了服务提供者的网络服务连接。