---
layout: post
categories: Java
description: none
keywords: Java
---
# Java基础语法
本章介绍一些编程中的基本概念，例如标识符、变量、常量、数据类型、运算符、基本数据类型的类型转换等。这些是编程中的“砖块”，是编程的基础。

## 基本语法
下面给出一个简单的Java程序范例，了解Java程序的基本结构。
```java
package demo;
/**
 * @param 
 * @author yangjingjing
 * @version v1.0
 */
class Circle{                    // 定义一个圆形类
     final float PI = 3.1415f;         // 声明一个float型常量
     int r = 3;                    // 声明一个int型变量,初始化值为3
     /*public float perimeter(int r){     // 求圆周长的方法
          return 2*PI*r;
     }*/
     public float area(int r){          // 求圆面积的方法
          return PI*r*r;
     }
}
public class TestJavaStructure {
     public static void main(String[] args) {
          Circle c = new Circle();     // 创建Circle的实例化对象
          c.r = 6;               // 给类的成员变量r赋值
//        System.out.println(«圆的周长为：» + c.perimeter(c.r));
          System.out.println("圆的面积为："+ c.area(c.r));
     }
}
```
编写 Java 程序时，应注意以下几点：
- 大小写敏感：Java 是大小写敏感的，这就意味着标识符 Hello 与 hello 是不同的。
- 类名：对于所有的类来说，类名的首字母应该大写。如果类名由若干单词组成，那么每个单词的首字母应该大写，例如 MyFirstJavaClass 。
- 方法名：所有的方法名都应该以小写字母开头。如果方法名含有若干单词，则后面的每个单词首字母大写。
- 源文件名：源文件名必须和类名相同。当保存文件的时候，你应该使用类名作为文件名保存（切记 Java 是大小写敏感的），文件名的后缀为 .java。（如果文件名和类名不相同则会导致编译错误）。
- 主方法入口：所有的 Java 程序由 public static void main(String[] args) 方法开始执行。

## 注释
为了方便程序的阅读，Java语言允许程序员在程序中写入一些说明性的文字，用来提高程序的可读性，这些文字性的说明称为注释。 注释不会出现在字节码文件中，即Java编译器编译时会跳过注释。

程序的注释不仅有助于提高程序的可读性，还可以屏蔽一些暂时不用的语句，等需要时直接取消此语言的注释即可。在Java中，根据功能的不同可分为单行注释、多行注释（块注释）和文档注释三种。
- 单行注释
在注释内容前面加“//”，“//”后面的单行内容均为注释。Java编译器会忽略这部分信息，如程序中下面的语句：
```
final float PI = 3.1415f;              // 声明一个float型常量
```
- 多行注释
在注释内容前面加“/*”，在注释内容后面加“*/”，一般注释内容为多行，如程序中对圆周长方法的注释就是多行注释。 但是在使用时要注意，多行注释不能嵌套使用。
- 文档注释
文档注释以“/**”开头，以“*/”结尾，注释中包含一些说明性的文字及一些JavaDoc标签（后期写项目时，可以生成项目的API）。

## 标识符
标识符是用来给变量、类、方法以及包进行命名的，如Welcome、main、System、age、name、gender等。标识符需要遵守以下一些规则：

- 所有的标识符都应该以字母（A-Z 或者 a-z）,美元符（$）、或者下划线（_）开始
- 关键字不能用作标识符
- 标识符是大小写敏感的
- 合法标识符举例：age、$salary、_value、__1_value
- 非法标识符举例：123abc、-salary

标识符的使用规范：
- 表示类名的标识符：每个单词的首字母大写，如Man、GoodMan等。
- 表示方法和变量的标识符：第一个单词小写，从第二个单词开始首字母大写，我们称之为“驼峰原则”，如eat()、eatFood()等。
- Java不采用通常语言使用的ASCII字符集，而是采用Unicode这样标准的国际字符集。因此，这里字母的含义不仅仅是英文，还包括汉字等。但是不建议大家使用汉字来定义标识符。

## 关键字
Java关键字是Java语言保留供内部使用的，如class，用于定义类。关键字也可以称为保留字。关键字不能用作变量名或方法名。

Java语言还定义了一些具有专门意义和用途的关键字，也称保留字。Java中的关键字全部用小写字母表示，它们不能被当作合法的标识符使用。
Java中的关键字有abstract、break、byte、boolean、catch、case、class、char、continue、default、double、do、else、extends、false、final、float、for、finally、if、
import、implements、int、interface、instanceof、long、length、native、new、null、package、private、protected、public、return、switch、synchronized、short、
static、super、try、true、this、throw、throws、threadsafe、transient、void和while。

这些关键字不需要读者去强记，如果开发中使用了这些关键字，编译器就会自动提示错误。另外，true、false、null虽然不是关键字，但是作为一个单独的标识类型也不能直接使用。

## 常量
所谓常量，就是值永远不允许被改变的量。如果要声明一个常量，就必须用关键字final修饰，如程序中常量的声明和赋值。
```
final float PI = 3.1415f;         // 声明一个float型常量
```
在声明常量时，必须立即为其赋值，即初始化。

## 变量
所谓变量，就是值可以改变的量。变量利用声明的方式将内存中的某个内存块保留下来以供程序使用。变量可以用来存放数据，而使用之前必须先声明它的数据类型，也可以在声明时立即为其赋值，如程序中变量的声明和初始化。
```
int r = 3;               // 声明一个int型变量,初始化值为3
```
变量的作用域是一个程序的区域。变量声明时就决定了变量的作用域。在一个确定的域中，变量名应该是唯一的。

变量的作用域可以是成员变量作用域、本地变量作用域、方法参数作用域或异常处理参数作用域。

作用域可以嵌套。外部作用域的变量对于内部作用域是可见的，但内部作用域的变量对外部作用域是不可见的。

## 数据类型
变量就是申请内存来存储值。也就是说，当创建变量的时候，需要在内存中申请空间。 内存管理系统根据变量的类型为变量分配存储空间，分配的空间只能用来储存该类型数据。 因此，通过定义不同类型的变量，可以在内存中储存整数、小数或者字符。

Java语言的数据类型分为原始类型（简单类型）和引用类型（复合类型）。

原始数据类型包括以下8种。
- 整数类型：byte、short、int和long。
- 浮点类型：float和double。
- 字符类型：char。
- 布尔类型：boolean。

引用数据类型包括类、接口和数组三种。

### 整数类型
Java定义了4个整数类型，即byte、short、int和long，它们都是带符号的。

#### byte
byte 数据类型是8位、有符号的，以二进制补码表示的整数；
最小值是 -128（-2^7）；
最大值是 127（2^7-1）；
默认值是 0；
byte即字节型，是最小的整数类型，所占位数为8位。取值范围为-27～27-1，即-128～127，常用于数据流的处理。
byte 类型用在大型数组中节约空间，主要代替整数，因为 byte 变量占用的空间只有 int 类型的四分之一；
```
byte a = 100，byte b = -50。
```

#### short
short 数据类型是 16 位、有符号的以二进制补码表示的整数
最小值是 -32768（-2^15）；
最大值是 32767（2^15 - 1）；
Short 数据类型也可以像 byte 那样节省空间。一个short变量是int型变量所占空间的二分之一；
默认值是 0；
```
short s = 1000，short r = -20000。
```
short即短整型，所占位数为16位。取值范围为-215~215-1，即-32768~32767，主要用于16位计算机，现在很少使用。

#### int
int 数据类型是32位、有符号的以二进制补码表示的整数；
最小值是 -2,147,483,648（-2^31）；
最大值是 2,147,483,647（2^31 - 1）；
一般地整型变量默认为 int 类型；
默认值是 0 ；
```
int a = 100000, int b = -200000。
```
int即整型，所占位数为32位。取值范围为-231~231-1，即-2147483648~2147483647。整型是常用的数据类型之一，经常用于循环的计数器和数组的下标。

#### long
long 数据类型是 64 位、有符号的以二进制补码表示的整数；
最小值是 -9,223,372,036,854,775,808（-2^63）；
最大值是 9,223,372,036,854,775,807（2^63 -1）；
这种类型主要使用在需要比较大整数的系统上；
默认值是 0L；
```
long a = 100000L，long b = -200000L。
```
"L"理论上不分大小写，但是若写成"l"容易与数字"1"混淆，不容易分辩。所以最好大写。
long即长整型，所占位数为64位。取值范围为-263~263-1，即-9223372036854775808~9223372036854775807。长整型也是常用的数据类型之一，用来表示超过整型的数字比，如时间的毫秒数等。

### 浮点类型

#### float
float 数据类型是单精度、32位、符合IEEE 754标准的浮点数；
float 在储存大型浮点数组的时候可节省内存空间；
默认值是 0.0f；
浮点数不能用来表示精确的值，如货币；
```
float f1 = 234.5f。
```
float即单精度浮点型，所占位数为32位。取值范围为1.4E-45～3.4028235E38，常用于对小数位精度要求不是很高的数字。

#### double
double 数据类型是双精度、64 位、符合 IEEE 754 标准的浮点数；
浮点数的默认类型为 double 类型；
double类型同样不能表示精确的值，如货币；
默认值是 0.0d；
例子：
```
double   d1  = 7D ;
double   d2  = 7.;
double   d3  =  8.0;
double   d4  =  8.D;
double   d5  =  12.9867;
```
7 是一个 int 字面量，而 7D，7. 和 8.0 是 double 字面量。
double即双精度浮点型，所占位数为64位。取值范围为4.9E-324~1.7976931348623157E308，常用于需要计算精确度要求很高的情况。

### 字符类型
char 类型是一个单一的 16 位 Unicode 字符；
最小值是 \u0000（十进制等效值为 0）；
最大值是 \uffff（即为 65535）；
char 数据类型可以储存任何字符；
```
char letter = 'A';。
```
char即字符型，Java使用Unicode码代表字符，这一点决定了Java中char所占位数不同于C/C++的8位而是16位。因为char是无符号的，所以取值范围为0~65535。

### 布尔类型
boolean数据类型表示一位的信息；
只有两个取值：true 和 false；
这种类型只作为一种标志来记录 true/false 情况；
默认值是 false；
```
boolean one = true。
```
boolean即布尔类型，只包含True和False两个值，多用于流程控制语句的条件表达式。

## 类型转换
由于Java数据类型在定义时就已经确定了，因此不能随意转换为其他的数据类型，但Java允许用户有限度地做类型转换处理。所有基本数据类型中，只有boolean不能与其他数据类型相互转换，剩下的数据类型可以相互转换，其中byte数据类型级别最低，double数据类型级别最高。转换时根据转换方向的不同，可分为“自动转换”和“强制转换”。

### 自动转换
不损失精度的转换称为自动转换，也称为隐式转换。即满足以下两个条件，数据类型之间的转换是自动进行的。
- 进行转换的两种类型是兼容的。
- 目标类型的范围大于源类型的范围。

### 强制转换
有可能损失精度的转换称为强制转换，也称为显式转换。即不满足类型自动转换的条件下仍然希望进行类型转换，就只能进行强制转换。通过在源类型的变量或数值前加（目标类型）进行强制转换，这也是强制转换也称为显式转换的原因。

下面程序演示了自动转换和强制转换两种情况：
```
public class Convert {
     public static void main(String[] args) {
          byte a = 10;                // 定义byte类型的变量
          int b = a;                  // byte自动转换为int
          long c = b;                 // int自动转换为long
          double d = b;              // int自动转换为double
          float f = 3.14f;           // 定义float类型的变量
          double e = f;               // float自动转换为double
          int g = (int)f;          // float强制类型转换为int
          int h = (int)e;            // double强制类型转换为int
     }
}
```
对于类型转换还存在一个容易被忽视的错误。先来看一个例子：
```java
public class ConvertDemo {
     public static void main(String[] args) {
          byte b = 10;                    // 定义byte类型的变量
          byte result = (byte) (b + 4);     // int强制转换为byte
          System.out.println("<--result为"+result+"-->");
     }
}

```
这段程序代码的运行结果如下：
```
<--result为14-->
```
细心的读者可能会发现，上面的例子中进行了一次强制转换。这次强制转换是否有必要呢？答案是肯定的。因为在Java的表达式中会进行类型提升，这种表达式中的类型提升是自动进行的。提升的规则就是将表达式运算结果的类型提升为所有操作数数据类型中范围最大的数据类型。在上面的例子中常数4被认为是int类型，根据这个规则，也就不难理解为什么需要进行强制类型转换了。

## 引用类型
在Java中，引用类型的变量非常类似于C/C++的指针。引用类型指向一个对象，指向对象的变量是引用变量。这些变量在声明时被指定为一个特定的类型，比如 Employee、Puppy 等。变量一旦声明后，类型就不能被改变了。
对象、数组都是引用数据类型。
所有引用类型的默认值都是null。
一个引用变量可以用来引用任何与之兼容的类型。
例子：Site site = new Site("Runoob")。

## 运算符和表达式
参与运算的常量、变量和表达式统称为操作数。连接操作数完成运算的符号称为运算符。表达式是由操作数和运算符按一定的语法形式组成的符号序列。在高级程序设计语言中，运算符通常分为算术运算符、位运算符、关系运算符和逻辑运算符4类。而从操作数的个数又可分为一元操作符、二元操作符和三元操作符。

### 赋值运算符
在介绍算术运算符、位运算符、关系运算符和逻辑运算符之前，先简单说明一下赋值运算符。赋值运算符用“=”表示，作用就是给变量赋值。

### 算术运算符
算术运算符，顾名思义用于在数学表达式中进行算术运算。算术运算符可以用于除布尔类型以外的所有原始数据类型。

算术运算符包括基本算术运算符、简写算术运算符和递增递减运算符。

基本算术运算符如下：
- “+”代表加法，二元操作符。
- “-”对于二元操作数代表减法，对于一元操作符代表取负。
- “*”代表乘法，二元操作符。 
- “/”代表除法，二元操作符。
- “%”代表求模，二元操作符。

如果用op代表上述基本运算符，var1和var2就分别代表两个操作数。形式如下：
```
var1 = var1 op var2;
```
可以简写为：
```
var1 op= var2;
```
对于这种情况，上述5个基本算术运算都有其简写的算术运算符，分别为“+=”“-=”“*=”“/=”和“%=”。

递增递减运算符“++”和“--”的用法都有两种。如果用var1和var2表示两个变量，那么这两种用法可以表示为：
```
var1++、var1--和++var1、--var1
```
对于上述语句，这两种用法没有区别，都分别表示在var1基础上加1和减1。而对于下面的语句，这两种用法是有区别的，以“++”运算符为例，“--”运算符同理。
```
var2 = var1++;
等价于
var2 = var1;
var1 = var+1;
而
var2=++var1;
等价于
var1 = var+1;
var2 = var1;
```

### 位运算符
位运算符用于对整数类型操作数的二进制编码的位运算。位运算符可以用于整数类型和字符类型。位运算符如下：

- “~”代表按位非，一元运算符。
- “&”代表按位与，二元操作符。
- “|”代表按位或，二元操作符。
- “^”代表按位异或，二元操作符。
- “>>”代表右移，二元操作符。
- “<<”代表左移，二元操作符。
- “>>>”代表右移且空出的位用0填充，二元操作符。
- “&=”代表“&”运算符的简写运算符，其用法与算术运算符相同，二元操作符。
- “|=”代表“|”运算符的简写运算符，其用法与算术运算符相同，二元操作符。
- “^=”代表“^”运算符的简写运算符，其用法与算术运算符相同，二元操作符。
- “>>=”代表“>>”运算符的简写运算符，其用法与算术运算符相同，二元操作符。
- “<<=”代表“<<”运算符的简写运算符，其用法与算术运算符相同，二元操作符。
- “>>>=”代表“>>>”运算符的简写运算符，其用法与算术运算符相同，二元操作符。

### 关系运算符
关系运算符用于判断操作数之间的关系，运算的结果是布尔类型的，即True或False。关系运算符如下：

- “==”代表等于关系，二元操作符。
- “！=”代表不等于关系，二元操作符。
- “>”代表大于关系，二元操作符。
- “<”代表小于关系，二元操作符。
- “>=”代表不小于关系，二元操作符。
- “<=”代表不大于关系，二元操作符。

### 三元运算符
“?：”是Java中唯一的一个三元运算符。如果var表示类型为布尔类型的操作数，var1和var2表示类型相同的操作数，那么这个三元运算符的用法如下：
```
var?var1:var2
```
如果var的值为True，那么表达式结果为var1的值；否则为var2的值。

### 运算符优先级
多个运算符参与运算时会从左到右按照运算符优先级别的高低依次进行运算。

## 方法
方法就是一段可重复使用的代码段，可以简化代码的编写量。有些书中把方法称为函数，两者本身并没有区别，属于同样的概念，只是称呼不同而已。

### 方法的定义和调用
Java中可以使用多种方式定义方法，如前面常用的main方法，在声明处加上了public static关键字。方法的定义格式如下：
```
[修饰限定符] 返回值类型 方法名称（类型 参数1，类型 参数2，…）{
     语句序列；
     [return  表达式]；
}
```
如果方法没有返回值，就要在“返回值类型”明确写出void，此时方法中的return语句可以省略。方法执行完毕后，无论是否存在返回值都要返回到方法的调用处向下执行。方法名称要遵循Java标识符的命名规则。参数列表可以为空，也可以有多个。

下面的例子演示了方法的定义和调用。
```java
public class MethodDemo01 {
     public static void main(String[] args) {
          print();
          int one = addMethod1(10,20) ;          // 调用整型的加法操作
          float two = addMethod2(10.3f,13.3f) ;     // 调用浮点数的加法操作
          System.out.println("addMethod1的计算结果：" + one) ;
          System.out.println("addMethod2的计算结果：" + two) ;
     }
     public static void print(){
          System.out.println("演示方法的调用！");
     }
     // 定义方法，完成两个数字的相加操作，方法返回一个int型数据
     public static int addMethod1(int x,int y){
          int temp = 0 ;          // 方法中的参数，是局部变量
          temp = x + y ;          // 执行加法计算
          return temp ;               // 返回计算结果
     }
     // 定义方法，完成两个数字的相加操作，方法的返回值是一个float型数据
     public static float addMethod2(float x,float y){
          float temp = 0 ;          // 方法中的参数，是局部变量
          temp = x + y ;          // 执行加法操作
          return temp ;               // 返回计算结果
     }
}
```

运算结果如下：
```
演示方法的调用！
addMethod1的计算结果：30
addMethod2的计算结果：23.6
```
递归调用是一种特殊的调用形式，属于方法的自身调用，在开发中应尽量避免使用。因为递归调用在操作时如果处理不好，就可能会出现内存的溢出，所以要谨慎使用

### 方法的重载
方法的重载就是方法名称相同，但参数类型或个数不同。通过传递参数的个数及类型的不同可以完成不同功能的方法调用。System.out.println()方法就属于方法的重载，println()方法可以打印数值、字符、布尔类型等数据。

下面的例子验证了方法的重载。
```java
public class MethodDemo {
     final static float PI = 3.14f;
     public static void main(String[] args) {
          int r = 3, a = 4, b = 5;
          System.out.println("圆形面积为：" + area(r));
          System.out.println("矩形面积为：" + area(a,b));
          System.out.println("三角形面积为：" + area(a,b,r));
     }
     public static float area(int r){// 定义area方法，完成圆面积的计算
          return PI*r*r;                    // 返回结果
     }
     // 定义area方法，完成矩形面积的计算
     public static int area(int a,int b){
          return a*b;                         // 返回结果
     }
     // 定义area方法，完成三角形面积的计算
public static double area(int a,int b,int r){
          double p = 0 ;
          p = (a+b+r)/2 ;
          return Math.sqrt(p*(p-a)*(p-b)*(p-r));     // 返回结果
     }
}
```
方法的重载只是在参数的类型或个数上有所不同，与方法的返回值无关。如果参数类型和个数一致，返回值不同，就不是方法的重载，并且在编译时无法通过，因为编译器无法判断是哪个方法。

### 方法的引用传递
前面的操作传递和返回的都是基本数据类型。方法可以传递引用数据类型，数组属于引用数据类型，在把数组传递进方法之后，如果方法对数组本身做了任何修改，那么修改结果也将保存下来。下面的例子演示了传递数值和传递引用的不同。
```java
public class MethodDemo02 {
     public static void main(String[] args) {
          int x = 3, y = 4;
          change(3, 4);                    // 传递整型数值
          System.out.println("x=" + x + " y=" + y);
          int[] a = {3,4};
          change(a);                      // 传递数据引用
          System.out.println("a[0]=" + a[0] + " a[1]=" + a[1]);
     }
     public static void change(int x, int y) {
          x = x + y;
          y = x - y;
          x = x - y;
     }
     public static void change(int[] a) {
          a[0]=a[0]+a[1];
          a[1]=a[0]-a[1];
          a[0]=a[0]-a[1];
     }
}

```
运算结果如下：
```
x=3 y=4
a[0]=4 a[1]=3
```
从运行结果可以看出，基本数据类型传递的是数据的拷贝，而引用类型传递的是引用的复制。



