---
layout: post
categories: Apollo
description: none
keywords: Apollo
---
# Apollo安装部署

## Apollo本地部署
为了让大家更快地上手了解Apollo配置中心，官方准备了一个快速启动的安装包，能够在几分钟内完成本地环境部署，启动Apollo配置中心。

本地部署只适用于开发环境，生产环境需要采用分布式部署，在后面的章节中会为大家讲解怎么进行分布式部署。

### 环境准备
Apollo采用Java语言开发，部署环境必须安装了Java，版本要求：Java 1.8+。
Apollo的数据都存储的Mysql中，部署环境也需要安装Mysql数据库，版本要求：5.6.5+。
快速启动的脚本是shell编写的，要有bash环境，在Linux/Mac下无影响。如果用户是Windows环境，需要安装Git Bash（https://git-for-windows.github.io/）。

### 下载快速启动安装包
快速启动安装包下载地址：https://github.com/nobodyiam/apollo-build-scripts。
安装包共50M，如果访问GitHub网速较慢的话，也可以从百度网盘下载。
百度网盘下载地址：https://pan.baidu.com/s/1CtLAXQFxOfvb2xUV2R0PlQ。
下载之后进行解压

### 初始化数据库

Apollo服务端一共需要两个数据库：ApolloPortalDB和ApolloConfigDB。数据库、表的创建和样例数据的sql文件都在快速启动安装包的sql目录中，只需要导入数据库即可。

### 修改数据库连接信息
数据库连接信息在demo.sh中，我们需要把对应的数据库连接信息修改成我们自己安装的地址，这样Apollo才能正常启动。
```properties
#apollo config db info
apollo_config_db_url=jdbc:mysql://localhost:3306/ApolloConfigDB?characterEncoding=utf8
apollo_config_db_username=用户名
apollo_config_db_password=密码（如果没有密码，留空即可）
```
```properties
# apollo portal db info
apollo_portal_db_url=jdbc:mysql://localhost:3306/ApolloPortalDB?characterEncoding=utf8
apollo_portal_db_username=用户名
apollo_portal_db_password=密码（如果没有密码，留空即可）
```

### 启动Apollo配置中心

执行启动脚本：

./demo.sh start
demo.sh脚本会在本地启动3个服务，分别使用8070、8080、8090端口，请确保这3个端口当前没有被使用。

当看到如下输出后，就说明Apollo启动成功了！
```text
==== starting service ====
Service logging file is ./service/apollo-service.log
Started [10768]
Waiting for config service startup.......
Config service started. You may visit http://localhost:8080 for service status now!
Waiting for admin service startup....
Admin service started
==== starting portal ====
Portal logging file is ./portal/apollo-portal.log
Started [10846]
Waiting for portal startup......
Portal started. You can visit http://localhost:8070 now!
```
启动成功之后打开http://localhost：8070，访问Web管理页面。账号：apollo，密码：admin。

## Apollo Portal管理后台使用
打开Portal地址，首先看到的是登录页面，默认的账号是apollo，密码是admin。输入之后点击登录即可跳转到首页。
### 登录页面
首页会展示当前登录用户管理的所有项目列表，还有收藏、搜索等功能。 点击SampleApp可以跳转到项目的主页面。
### Apollo首页
### 项目主页面
点击新增配置按钮可以添加单条配置。
### 单条配置添加
批量添加可以使用文本模式进行添加。
### 批量添加模式
添加后不会马上生效，需要点击发布按钮确认发布的配置信息后才会同步到客户端。
### 发布配置
还有很多操作大家可以自己尝试，比如添加项、添加命名空间、灰度发布等。
